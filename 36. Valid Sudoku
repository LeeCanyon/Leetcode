class Solution {
public:
    bool isValidSudoku(vector<vector<char>>& board) {
        enum{SIDE_LENGTH=9};
        enum{BOX_LENGTH=3};
        vector<bool> digit_exist(SIDE_LENGTH,false);
        for(int row=0;row<SIDE_LENGTH;++row)
        {
            for(int column=0;column<SIDE_LENGTH;++column)
            {
                if(board[row][column]!='.')
                {
                    int digit=static_cast<int>(board[row][column]-'1');
                    if(!digit_exist[digit])
                        digit_exist[digit]=true;
                    else
                        return false;
                }
            }
            digit_exist=vector<bool>(SIDE_LENGTH,false);
        }
        for(int column=0;column<SIDE_LENGTH;++column)
        {
            for(int row=0;row<SIDE_LENGTH;++row)
            {
                if(board[row][column]!='.')
                {
                    int digit=static_cast<int>(board[row][column]-'1');
                    if(!digit_exist[digit])
                        digit_exist[digit]=true;
                    else
                        return false;
                }
            }
            digit_exist=vector<bool>(SIDE_LENGTH,false);
        }
        for(int row=0;row<SIDE_LENGTH;row+=BOX_LENGTH)
        {
            for(int column=0;column<SIDE_LENGTH;column+=BOX_LENGTH)
            {     
                for(int box_row=0;box_row<BOX_LENGTH;box_row++)
                {
                    for(int box_column=0;box_column<BOX_LENGTH;box_column++)
                    {
                        if(board[row+box_row][column+box_column]!='.')
                        {
                            int digit=static_cast<int>(board[row+box_row][column+box_column]-'1');
                            if(!digit_exist[digit])
                                digit_exist[digit]=true;
                            else
                                return false;
                        }
                    }
                }
                digit_exist=vector<bool>(SIDE_LENGTH,false);
            }
        }
        return true;
    }
};
